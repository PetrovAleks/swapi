(this.webpackJsonpswapi=this.webpackJsonpswapi||[]).push([[0],{22:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=(a(27),a(1)),i=a(3),o=a(5),u=a(4),m=(a(28),a(10)),d=a(2),p=(a(29),a(30),function(){return r.a.createElement("h1",{className:"header-nav__logo navbar-dark navbar-brand "},r.a.createElement(m.b,{to:"/"},"Star Wars API"))}),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header",id:"navbarColor02"},r.a.createElement("nav",{className:"header-nav navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(p,null),r.a.createElement("ul",{className:"navbar-nav mr-auto header-nav__list"},r.a.createElement("li",{className:" header-nav__item nav-link"},r.a.createElement(m.b,{to:"/people"},"People")),r.a.createElement("li",{className:" header-nav__item nav-link"},r.a.createElement(m.b,{to:"/planet"},"Planets")),r.a.createElement("li",{className:" header-nav__item nav-link"},r.a.createElement(m.b,{to:"/starships"},"Starships")),r.a.createElement("li",{className:" header-nav__item nav-link"},r.a.createElement(m.b,{to:"/login"},"Login")),r.a.createElement("li",{className:" header-nav__item nav-link"},r.a.createElement(m.b,{to:"/secret"},"Secret")))))}}]),a}(n.Component),h=a(7),g=a.n(h),v=a(12),E=function e(){var t=this;Object(s.a)(this,e),this._baseURL="https://swapi.dev/api",this._baseImg="https://starwars-visualguide.com/assets/img",this.getResourse=function(){var e=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t._baseURL+a);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/people/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPersone=function(){var e=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/people/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/planets/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/planets/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/starships/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t._transformStarship));case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(v.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/starships/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImg=function(e){var a=e.id;return"".concat(t._baseImg,"/characters/").concat(a,".jpg")},this.getStarshipImg=function(e){var a=e.id;return"".concat(t._baseImg,"/starships/").concat(a,".jpg")},this.getPlanetImg=function(e){var a=e.id;return"".concat(t._baseImg,"/planets/").concat(a,".jpg")},this._extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._extractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this._transformStarship=function(e){return{id:t._extractId(e),name:e.name,model:e.model,manufacturer:e.manufacturer,cosrtInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargo_capacity}},this._transformPerson=function(e){return{id:t._extractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color,mass:e.mass,height:e.height,scinColor:e.skin_color}}};function b(){return r.a.createElement("div",{className:"d-flex justify-content-center d-none"},r.a.createElement("div",{className:"spinner-border text-warning",role:"status"},r.a.createElement("span",{className:"sr-only "},"Loading...")))}a(37);var I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.onCloseErr;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-dismissible alert-warning"},r.a.createElement("button",{onClick:function(){return e()},type:"button",className:"close","data-dismiss":"alert"},"\xd7"),r.a.createElement("h4",{className:"alert-heading"},"\u041e\u0443\u0443\u0443\u043f\u043f\u0441!"),r.a.createElement("p",{className:"mb-0"},"\u0412\u0441\u0435 \u043d\u0430\u0448\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437\u0430\u0445\u0432\u0430\u0442\u0438\u043b\u0430 \u0418\u043c\u043f\u0435\u0440\u0438\u044f, \u043f\u0440\u043e\u0441\u0442\u0438\u0442\u0435 =(")))}}]),a}(n.Component),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).SwapiService=new E,e.state={planet:{},loading:!0,err:!1},e.onCloseErr=function(){e.setState({err:!1})},e.onPlanetloader=function(t){e.setState({planet:t})},e.onError=function(t){e.setState({err:!0})},e.updateplanet=function(){var t=Math.floor(15*Math.random())+3;e.SwapiService.getPlanet(t).then(e.onPlanetloader).catch(e.onError).finally((function(){e.setState({loading:!1})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.updateplanet(this.state.id),setInterval(this.updateplanet,2500)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.planet,n=e.err,c=t?r.a.createElement(b,null):null,l=t?null:r.a.createElement(y,{planet:a}),s=n?r.a.createElement(I,{onCloseErr:this.onCloseErr}):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"random_planet card  "},r.a.createElement("div",{className:"d-flex justify-content-center "},s,l,c)))}}]),a}(n.Component),y=function(e){var t=e.planet,a=t.population,n=t.rotationPeriod,c=t.diameter,l=t.name,s=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper-img"},r.a.createElement("img",{className:"random_planet__img",alt:"",src:"https://starwars-visualguide.com/assets/img/planets/".concat(s,".jpg")})),r.a.createElement("div",{className:" wrapper-planet__text"},r.a.createElement("h2",{className:"random_planet__title  card-title "},l),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"\u041f\u043e\u043f\u0443\u043b\u044f\u0446\u0438\u044f ",a," \u0436\u0438\u0442\u0438\u043b\u0435\u0439"),r.a.createElement("li",{className:"list-group-item"},"\u041f\u0435\u0440\u0438\u043e\u0434 \u0412\u0440\u0430\u0449\u0435\u043d\u0438\u044f ",n," \u0447\u0430\u0441\u0430"),r.a.createElement("li",{className:"list-group-item"},"\u0414\u0438\u0430\u043c\u0435\u0442\u0435\u0440 ",c," \u043a\u043c"))))},_=function(e){var t=e.leftElement,a=e.rightElement;return r.a.createElement("div",{className:"container container-padding d-flex "},t,a)},O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.data.data;return r.a.createElement("li",{className:"list-group-item"},this.props.label,": ",r.a.createElement("b",null,e[this.props.field]))}}]),a}(n.Component),w=function(e,t,a,c){return function(n){Object(o.a)(m,n);var l=Object(u.a)(m);function m(){var e;Object(s.a)(this,m);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=l.call.apply(l,[this].concat(a))).state={item:[],imgUrl:[],error:!1},e}return Object(i.a)(m,[{key:"componentDidUpdate",value:function(e){if(this.props.itemId!==e.itemId)return this.updateIteme()}},{key:"componentDidMount",value:function(){this.updateIteme()}},{key:"updateIteme",value:function(){var e=this;if(this.props.itemId)return this.state.error?r.a.createElement(I,null):void t(this.props.itemId).then((function(t){var n=a(t);e.setState({item:t,imgUrl:n})})).catch((function(){e.setState({error:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.item,n=t.imgUrl;return r.a.createElement(e,{item:a,imgUrl:n},r.a.createElement(c,{data:a}))}}]),m}(n.Component)},N=(a(38),function(e){var t=e.item.name;return r.a.createElement("div",{className:" persone_details-wrapper card mb-3 "},r.a.createElement("h3",{className:"card-header"},t),r.a.createElement("div",{className:"d-flex"},r.a.createElement("img",{className:"persone_details-img",src:e.imgUrl,alt:"".concat(t)}),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.Children.map(e.children,(function(e){return r.a.cloneElement(e)}))))))}),S=new E,k=S.getPersone,x=S.getPlanet,P=S.getStarship,C=S.getPlanetImg,L=S.getStarshipImg,A=w(N,k,S.getPersonImg,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{data:e,label:"\u041f\u043e\u043b",field:"gender"}),r.a.createElement(O,{data:e,label:"\u0426\u0432\u0435\u0442 \u0433\u043b\u0430\u0437",field:"eyeColor"}),r.a.createElement(O,{data:e,label:"\u0413\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",field:"birthYear"}),r.a.createElement(O,{data:e,label:"\u0412\u0435\u0441",field:"mass"}),r.a.createElement(O,{data:e,label:"\u0420\u043e\u0441\u0442",field:"height"}),r.a.createElement(O,{data:e,label:"\u0426\u0432\u0435\u0442 \u041a\u043e\u0436\u0438",field:"scinColor"}))})),R=w(N,x,C,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{data:e,label:"\u041d\u0430\u0441\u0438\u043b\u0435\u043d\u0438\u0435",field:"population"}),r.a.createElement(O,{data:e,label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0412\u0440\u0430\u0449\u0435\u043d\u0438\u044f",field:" rotationPeriod"}),r.a.createElement(O,{data:e,label:"\u0414\u0438\u0430\u043c\u0435\u0442\u0440",field:"diameter"}))})),F=w(N,P,L,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{data:e,label:"\u041c\u043e\u0434\u0435\u043b\u044c",field:"model"}),r.a.createElement(O,{data:e,label:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c",field:"manufacturer"}),r.a.createElement(O,{data:e,label:"\u0426\u0435\u043d\u0430",field:"cosrtInCredits"}),r.a.createElement(O,{data:e,label:"\u0414\u043b\u0438\u043d\u043d\u0430",field:"length"}),r.a.createElement(O,{data:e,label:"\u042d\u043a\u0438\u043f\u0430\u0436",field:"crew"}),r.a.createElement(O,{data:e,label:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b",field:"crew"}),r.a.createElement(O,{data:e,label:"\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044c\u0435\u043c\u043d\u043e\u0441\u0442\u044c",field:"cargoCapacity"}))})),U=(a(39),function(e){var t=e.data,a=e.onItemSelected,n=e.renderItem,c=t.map((function(e){var t=e.id,c=n(e);return r.a.createElement("li",{key:t,className:"people-item list-group-item d-flex justify-content-between align-items-center",onClick:function(){return a(t)}},c)}));return r.a.createElement("div",{className:"list-wrapper  card mb-3"},r.a.createElement("ul",{className:"list-group"},c))}),D=function(e,t){return function(a){Object(o.a)(c,a);var n=Object(u.a)(c);function c(){var e;Object(s.a)(this,c);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))).state={data:"",loading:!1,error:!1},e}return Object(i.a)(c,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({data:t})})).catch((function(){e.setState({error:!0})}))}},{key:"render",value:function(){var t=this.props,a=t.renderItem,n=t.onItemSelected,c=this.state.data;return c?this.state.error?r.a.createElement(I,null):r.a.createElement(e,{renderItem:a,onItemSelected:n,data:c}):r.a.createElement(b,null)}}]),c}(n.Component)},M=new E,W=M.getAllPeople,J=M.getAllPlanets,Y=M.getAllStarships,B=D(U,W),$=D(U,J),q=D(U,Y),z=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedItem:2},e.onItemSelected=function(t){e.setState({selectedItem:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=r.a.createElement(A,{itemId:this.state.selectedItem}),t=r.a.createElement(B,{onItemSelected:this.onItemSelected,renderItem:function(e){var t=e.name,a=e.gender;return"".concat(t," (").concat(a,")")}});return r.a.createElement(_,{leftElement:t,rightElement:e})}}]),a}(n.Component),G=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedItem:2},e.onItemSelected=function(t){e.setState({selectedItem:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=r.a.createElement($,{onItemSelected:this.onItemSelected,renderItem:function(e){var t=e.name,a=e.gender;return"".concat(t," (").concat(a,")")}}),t=r.a.createElement(R,{itemId:this.state.selectedItem});return r.a.createElement(_,{leftElement:e,rightElement:t})}}]),a}(n.Component),H=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedItem:5},e.onItemSelected=function(t){console.log(t),e.setState({selectedItem:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=r.a.createElement(q,{onItemSelected:this.onItemSelected,renderItem:function(e){var t=e.name,a=e.gender;return"".concat(t," (").concat(a,")")}}),t=r.a.createElement(F,{itemId:this.state.selectedItem});return r.a.createElement(_,{leftElement:e,rightElement:t})}}]),a}(n.Component),K=function(e){var t=e.isLoggedIn,a=e.onLogin;return t?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"jumbotron"},r.a.createElement("p",null,"Login to see secret page!"),r.a.createElement("button",{className:"btn btn-primary",onClick:a},"Login"))},Q=function(e){return e.isLoggedIn?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h3",null,"this Page is full of secrets!")):r.a.createElement(d.a,{to:"/login"})},T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).swapiService=new E,e.state={err:!1,isLoggedIn:!1},e.onLogin=function(){e.setState({isLoggedIn:!0})},e}return Object(i.a)(a,[{key:"componentDidCatch",value:function(){this.setState({err:!0})}},{key:"render",value:function(){var e=this,t=this.state.isLoggedIn;return console.log(t),this.state.err?r.a.createElement(I,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement("div",{className:"wrapper-header"},r.a.createElement(f,null)),r.a.createElement("div",{className:"container container-padding "},r.a.createElement(j,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{path:"/",render:function(){return r.a.createElement("h2",{className:" title"}," Welcome to Star Wars API ")},exact:!0}),r.a.createElement(d.b,{path:"/people",component:z}),r.a.createElement(d.b,{path:"/starships",exact:!0,component:H}),r.a.createElement(d.b,{path:"/planet",component:G}),r.a.createElement(d.b,{path:"/login",render:function(){return r.a.createElement(K,{isLoggedIn:t,onLogin:function(){return e.onLogin()}})}}),r.a.createElement(d.b,{path:"/secret",render:function(){return r.a.createElement(Q,{isLoggedIn:t})}}))))}}]),a}(n.Component);l.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.254f762d.chunk.js.map